|      | log | svm |
|------+-----+-----|
| prim |   0 |   2 |
| dual |   7 |   1 |

train -v 10 data.svm

| binary      | 88.2993% |
| tfidf       |  89.505% |
| stfidf      | 90.5672% |

scale rows to unit len

| binary | 90.3229% |
| tfidf  | 92.4209% |
| btfidf | 93.0901% |
| stfidf | 93.1485% |

train -v 10 -B 1 data.svm

| binary | 90.3176% |
| tfidf  | 92.6068% |
| btfidf | 93.1273% |
| stfidf | 93.3397% |

with feature hashing

| 2^18 |  262144 |
| 2^19 |  524288 |
| 2^20 | 1048576 |
| 2^21 | 2097152 |
| 2^22 | 4194304 |

| bin-1 |  bin-2 | bin-3 |     dim |  util |   stfidf |
|-------+--------+-------+---------+-------+----------|
|  2^18 |        |       |  139708 | .5329 | 93.1538% |
|  2^19 |        |       |  166104 | .3168 | 93.2441% |
|  2^20 |        |       |  181920 | .1735 | 93.2494% |
|       |   2^19 |       |  483300 | .9218 | 91.0134% |
|       |   2^20 |       |  755433 | .7204 | 91.3108% |
|       | 3*2^19 |       |  900541 | .5725 | 91.3374% |
|       |   2^21 |       |  988383 | .4713 | 91.3586% |
|       | 3*2^20 |       | 1089105 | .3462 | 91.4277% |
|       |   2^22 |       | 1144093 | .2727 |  91.502% |
|       |        |  2^20 |  983719 | .9381 | 86.0049% |
|       |        |  2^21 | 1575879 | .7514 | 86.5626% |
|       |        |  2^22 | 2103020 | .5014 | 86.8016% |
|  2^19 | 3*2^20 |       | 1255210 | .3420 | 93.4353% |
|  2^20 | 3*2^20 |       | 1271026 | .3030 |   93.43% |
|  2^19 |   2^22 |       | 1310198 | .2777 | 93.4619% |
|  2^20 |   2^22 |       | 1326014 | .2530 | 93.4937% |

with freq threshold

| bin-1 |  bin-2 | bin-3 |     dim | freq |   stfidf |
|-------+--------+-------+---------+------+----------|
|  2^19 | 3*2^20 |       |  616344 | >= 2 | 93.6106% |
|  2^20 | 3*2^20 |       |  615541 | >= 2 | 93.6743% |
|  2^20 |   2^22 |       |  608602 | >= 2 | 93.7221% |
|  2^20 |   2^22 |       |  364379 | >= 3 |  93.584% |
|  2^20 |   2^22 |       |  250856 | >= 4 | 93.4512% |
|  2^20 |   2^22 |  2^23 | 1568331 | >= 2 | 93.6424% |
|  2^24 |   2^24 |       |  578702 | >= 2 | 93.8071% |
|  2^24 |   2^25 |       |  572331 | >= 2 | 93.8124% |

./doc-class -i 20news-18828/ -o data1.svm -t 2 -1 (expt 2 24)
./doc-class -i 20news-18828/ -o data12.svm -t 2 -1 (expt 2 24) -2 (expt 2 25) 

| parameter search                                 | cost |     best |
|--------------------------------------------------+------+----------|
| liblinear-train -q -v 10 -B 1 -C -s 0 data1.svm  |  128 | 92.8829% |
| liblinear-train -q -v 10 -B 1 -C -s 2 data1.svm  |    2 | 93.3344% |
| liblinear-train -q -v 10 -B 1 -C -s 0 data12.svm |  512 | 93.2707% |
| liblinear-train -q -v 10 -B 1 -C -s 2 data12.svm |  128 | 93.9877% |

train -q -v 10 -B 1 -c ??? data12.svm

|   c |  stifidf |
|-----+----------|
|   1 | 93.7699% |
|   5 | 93.9346% |
|   8 |  93.993% |
|  10 | 94.0142% |
|  11 | 94.0249% |
|  12 | 94.0195% |
|  13 | 94.0036% |
|  14 | 94.0195% |
|  15 | 94.0036% |
|  16 | 94.0036% |
|  20 |  93.993% |
|  30 | 93.9983% |
|  40 | 93.9717% |
|  50 | 93.9611% |
|  60 | 93.9558% |
|  80 | 93.9452% |
|  90 | 93.9346% |
| 100 | 93.9346% |
| 110 | 93.9346% |
| 120 | 93.9239% |
| 128 | 93.9293% |
| 150 | 93.9186% |

train -q -v 10 -B 1 -c ??? data1.svm

|   c |  stifidf |
|-----+----------|
| 1/2 | 92.9785% |
|   1 | 93.2813% |
|   2 | 93.2335% |
|   3 | 93.1963% |
|   5 | 93.1219% |
|  10 | 93.0476% |

best scores

+ with hapaxes removed
+ stfidf
+ -B 1

| features           | hash dims   | final dim | -c |    -v 10 |
|--------------------+-------------+-----------+----+----------|
| unigrams           | 2^24        |     82647 |  1 | 93.2813% |
| unigrams + bigrams | 2^24 + 2^25 |    572331 | 11 | 94.0249% |

open class filtering

| features | hash dims | final dim | -c |    -v 10 |
|----------+-----------+-----------+----+----------|
| unigrams |      2^24 |     82289 |  1 | 93.3025% |

* hash kernel

2^20 unigram freq

88.1081%

2^20 unigram binary

90.2751%

2^20 unigram sublinear

90.2008%

2^18 unigram binary

90.137%

2^18 unigram + x2 bigram

90.9709%

2^18 unigram + x3 bigram

90.9815%
